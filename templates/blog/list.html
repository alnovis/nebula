{% extends "base.html" %}

{% block content %}
<section class="blog-list-page">
    <h1>{{ title }}</h1>

    {% if posts.is_empty() %}
    <p class="empty-state">No posts yet. Check back soon!</p>
    {% else %}
    <ul class="post-list">
        {% for post in posts %}
        <li class="post-item{% if post.cover_image.is_some() %} has-cover{% endif %}">
            {% if let Some(img) = post.cover_image %}
            <a href="/blog/{{ post.slug }}" class="post-cover">
                <img src="{{ img }}" alt="{{ post.title }}" loading="lazy">
            </a>
            {% endif %}
            <article class="post-body">
                <a href="/blog/{{ post.slug }}">
                    <h2>{{ post.title }}</h2>
                </a>
                {% if let Some(desc) = post.description %}
                <p class="post-description">{{ desc }}</p>
                {% endif %}
                <div class="post-meta">
                    <time datetime="{{ post.date }}">{{ post.date }}</time>
                    <span class="reading-time">{{ post.reading_time }} min read</span>
                    {% if let Some(views) = post.views_count %}
                    <span class="views-count">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                            <circle cx="12" cy="12" r="3"></circle>
                        </svg>
                        {{ views }}
                    </span>
                    {% endif %}
                </div>
                {% if !post.tags.is_empty() %}
                <ul class="tag-list">
                    {% for tag in post.tags %}
                    <li class="tag">{{ tag }}</li>
                    {% endfor %}
                </ul>
                {% endif %}
            </article>
        </li>
        {% endfor %}
    </ul>
    {% endif %}
</section>
{% endblock %}
