{% extends "base.html" %}

{% block content %}
<section class="blog-list-page">
    <h1>{{ title }}</h1>

    {% if posts.is_empty() %}
    <p class="empty-state">No posts yet. Check back soon!</p>
    {% else %}
    <ul class="post-list">
        {% for post in posts %}
        <li class="post-item{% if post.cover_image.is_some() %} has-cover{% endif %}">
            {% if let Some(img) = post.cover_image %}
            <a href="/blog/{{ post.slug }}" class="post-cover">
                <img src="{{ img }}" alt="{{ post.title }}" loading="lazy">
            </a>
            {% endif %}
            <article class="post-body">
                <a href="/blog/{{ post.slug }}">
                    <h2>{{ post.title }}</h2>
                </a>
                {% if let Some(desc) = post.description %}
                <p class="post-description">{{ desc }}</p>
                {% endif %}
                <div class="post-meta">
                    <time datetime="{{ post.date }}">{{ post.date }}</time>
                    <span class="reading-time">{{ post.reading_time }} min read</span>
                </div>
                {% if !post.tags.is_empty() %}
                <ul class="tag-list">
                    {% for tag in post.tags %}
                    <li class="tag">{{ tag }}</li>
                    {% endfor %}
                </ul>
                {% endif %}
            </article>
        </li>
        {% endfor %}
    </ul>
    {% endif %}
</section>
{% endblock %}
